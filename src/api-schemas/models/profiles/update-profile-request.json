{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "update-profile-request",
    "title": "Update Profile Request",
    "description": "Schema for updating user profile",
    "type": "object",
    "properties": {
      "avatar": {
        "type": "string",
        "format": "uri",
        "maxLength": 500,
        "description": "URL to user's avatar image"
      },
      "bio": {
        "type": "string",
        "maxLength": 1000,
        "description": "User biography"
      },
      "phoneNumber": {
        "$ref": "../common/base-schemas.json#/definitions/phoneNumber"
      },
      "dateOfBirth": {
        "$ref": "../common/base-schemas.json#/definitions/iso8601Date",
        "description": "User's date of birth"
      },
      "address": {
        "type": "object",
        "properties": {
          "street": {
            "type": "string",
            "maxLength": 255,
            "description": "Street address"
          },
          "city": {
            "type": "string",
            "maxLength": 100,
            "description": "City name"
          },
          "state": {
            "type": "string",
            "maxLength": 100,
            "description": "State or province"
          },
          "country": {
            "type": "string",
            "maxLength": 100,
            "pattern": "^[A-Z]{2}$",
            "description": "Country code (ISO 3166-1 alpha-2)"
          },
          "zipCode": {
            "type": "string",
            "maxLength": 20,
            "pattern": "^[A-Za-z0-9\\s-]+$",
            "description": "Postal/ZIP code"
          }
        },
        "additionalProperties": false,
        "description": "User's address information"
      },
      "preferences": {
        "type": "object",
        "properties": {
          "theme": {
            "type": "string",
            "enum": ["light", "dark", "auto"],
            "default": "light",
            "description": "UI theme preference"
          },
          "notifications": {
            "type": "boolean",
            "default": true,
            "description": "Email notifications enabled"
          },
          "language": {
            "type": "string",
            "enum": ["en", "es", "fr", "de", "it", "pt", "zh"],
            "default": "en",
            "description": "Preferred language"
          },
          "timezone": {
            "type": "string",
            "pattern": "^[A-Za-z]+/[A-Za-z_]+$",
            "description": "User's timezone (IANA timezone)"
          }
        },
        "additionalProperties": true,
        "description": "User preferences"
      }
    },
    "minProperties": 1,
    "additionalProperties": false,
    "examples": [
      {
        "bio": "Software developer with 5+ years of experience",
        "phoneNumber": "+1234567890",
        "address": {
          "street": "123 Main St",
          "city": "New York",
          "state": "NY",
          "country": "US",
          "zipCode": "10001"
        },
        "preferences": {
          "theme": "dark",
          "notifications": true,
          "language": "en"
        }
      }
    ]
  }